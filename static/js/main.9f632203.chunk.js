(this.webpackJsonplocal_elections_kg=this.webpackJsonplocal_elections_kg||[]).push([[0],{182:function(e,t,n){},260:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(53),o=n.n(r),c=(n(260),n(182),n(16)),s=n(13),l=n(316),d=n(344),u=n(6),j=Object(l.a)((function(e){var t;return{fromControl:{width:"70%"},typography:(t={fontWeight:300,fontFamily:"Roboto, sans-serif",padding:0,margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t)}})),b=function(e){var t=j(),n=i.a.useState(""),r=Object(c.a)(n,2),o=r[0],s=r[1],l=e.index,b=e.response,f=e.returnAnswer,p=e.label,x=e.disabled,m=e.title;Object(a.useEffect)((function(){b&&s(b)}),[b]);return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(u.jsx)("p",{classes:t.typography,variant:"h6",component:"h6",children:m}),Object(u.jsx)(d.a,{disabled:x&&!0,id:"textField",value:o,label:p&&p,onChange:function(e){s(e.target.value),f(e.target.value,l)}})]})})},f=n(154),p=n(347),x=n(321),m=n(340),O=Object(l.a)((function(e){var t;return{formControl:{minWidth:"30%",maxWidth:300},typography:(t={fontWeight:300,padding:0,paddingBottom:10,margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t)}}));function h(e){var t=O(),n=i.a.useState(""),a=Object(c.a)(n,2),r=a[0],o=a[1],s=i.a.useState([]),l=Object(c.a)(s,2),d=(l[0],l[1],i.a.useState(!1)),j=Object(c.a)(d,2),b=j[0],f=j[1],h=e.title,g=e.answers,v=e.returnAnswer,S=e.index;e.answersValue;return Object(u.jsxs)("div",{style:{paddingTop:40},children:[Object(u.jsx)("p",{className:t.typography,children:h}),Object(u.jsx)(x.a,{className:t.formControl,children:Object(u.jsx)(m.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:b,onClose:function(){f(!1)},onOpen:function(){f(!0)},value:r,onChange:function(e){var t=g.map((function(t){if(t.title==e.target.value)return t.value})).filter(Boolean)[0];o(e.target.value),v(t,S)},children:g.map((function(e,t){return Object(u.jsx)(p.a,{value:e.title,children:e.title})}))})})]})}var g=n(164);g.a.initializeApp({apiKey:"AIzaSyD29vr6hDlRBNnNTTMG_EDGqTW6J0PuGa4",authDomain:"local-elections-210f5.firebaseapp.com",projectId:"local-elections-210f5",storageBucket:"local-elections-210f5.appspot.com",messagingSenderId:"666238817996",appId:"1:666238817996:web:57fd88586b301e8fe15469",measurementId:"G-EK2H89C8LB"});var v=new g.a.auth.GoogleAuthProvider,S=g.a,w=n(318),y=n(343),z=n(348),C=n(342),k=Object(l.a)((function(e){return{formControl:{margin:e.spacing(1),width:"70%"},typography:{fontSize:"19px"},radio:{fontSize:"15px",color:"black"}}}));var _=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(""),l=Object(c.a)(s,2),d=l[0],j=l[1],b=Object(a.useState)([]),f=Object(c.a)(b,2),O=f[0],h=f[1],g=k(),v=i.a.useState(!1),S=Object(c.a)(v,2),_=S[0],T=S[1],A=e.title,N=e.answers,E=e.returnAnswer,R=e.index;return Object(a.useEffect)((function(){var e=N.map((function(e,t){return e.answers})),t=N.map((function(e,t){return e.title==r})).indexOf(!0);h(e[t]),j("")}),[r]),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{classes:g.typography,variant:"h6",component:"h6",children:A}),Object(u.jsx)(x.a,{className:g.formControl,children:Object(u.jsx)(m.a,{open:_,value:r,onChange:function(e){o(e.target.value),E(void 0,R)},onClose:function(){T(!1)},onOpen:function(){T(!0)},input:Object(u.jsx)(w.a,{id:"grouped-select"}),children:N.map((function(e,t){return Object(u.jsx)(p.a,{value:e.title,children:e.title})}))})}),O&&Object(u.jsx)("div",{style:{paddingTop:15},children:Object(u.jsx)(x.a,{error:!0,style:{margin:0,padding:0},const:"fieldset",children:Object(u.jsx)(y.a,{value:d,onChange:function(e){j(e.target.value);var t=r+"=>"+e.target.value;E(t,R)},children:O.map((function(e,t){return Object(u.jsx)(z.a,{value:e,control:Object(u.jsx)(C.a,{}),label:Object(u.jsx)("p",{className:g.radio,children:e})},t)}))})})})]})})},T=n(325),A=n(341),N=n(324),E=n(323),R=Object(l.a)((function(e){return{typography:{fontSize:"24px",fontFamily:"Roboto, sans-serif"}}})),W=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=(n[0],n[1]),r=Object(a.useState)(null),o=Object(c.a)(r,2),s=o[0],l=o[1],d=Object(a.useState)(null),j=Object(c.a)(d,2),b=j[0],f=j[1],p=Object(a.useState)(!1),x=Object(c.a)(p,2),m=x[0],O=x[1],h=R(),g=e.title,v=e.index,w=e.returnAnswer,y=e.lang;Object(a.useEffect)((function(){w(!!m&&"abondon",v)}),[m]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{classes:h.typography,variant:"h6",component:"h6",children:g}),!s&&Object(u.jsx)(z.a,{control:Object(u.jsx)(E.a,{checked:m,onChange:function(e){O(!m)},name:"checkedB",color:"primary"}),label:"ru"==y?"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f":"\u0411\u0430\u0448 \u0442\u0430\u0440\u0443\u0443"}),Object(u.jsx)("br",{}),!m&&Object(u.jsxs)(N.a,{style:{marginBottom:15},color:"primary",variant:"contained",component:"label",children:["Upload File",Object(u.jsx)("input",{type:"file",onChange:function(e){if(e.target.files[0]){i(e.target.files[0]);var t=e.target.files[0],n=t.lastModified+t.name+"___"+new Date;S.storage().ref("images/".concat(n)).put(e.target.files[0]).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;f(t)}),(function(e){console.log(e)}),(function(){S.storage().ref("images").child(n).getDownloadURL().then((function(e){console.log(e),w(e,v),l(e)}))}))}},hidden:!0})]}),Object(u.jsx)("br",{}),!m&&b&&Object(u.jsxs)(A.a,{className:h.uploadLine,position:"relative",display:"inline-flex",children:[Object(u.jsx)(T.a,{variant:"determinate",value:b}),Object(u.jsx)(A.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(u.jsx)("p",{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(b),"%")})})]})]})},F=Object(l.a)((function(e){var t,n;return{formControl:{marginTop:"30px",margin:"0 auto",textAlign:"left",fontFamily:"Roboto, sans-serif"},typography:(t={fontWeight:300,padding:0,paddingBottom:10,fontFamily:"Roboto, sans-serif",margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t),radio:(n={fontSize:15,color:"black",fontWeight:200,fontFamily:"Roboto, sans-serif",padding:0,margin:0},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:9}),n)}})),I=function(e){var t=i.a.useState(""),n=Object(c.a)(t,2),r=n[0],o=n[1],s=F(),l=e.title,d=(e.id,e.answers),j=e.ans,b=e.index,f=(e.values,e.returnAnswer);return Object(a.useEffect)((function(){if(j){var e=Object.values(j)[0].split("_")[1]-1;o(d[e])}}),[j]),Object(u.jsxs)("div",{className:s.formControl,children:[Object(u.jsx)("p",{className:s.typography,children:l}),Object(u.jsx)("div",{children:Object(u.jsx)(x.a,{error:!0,style:{margin:0,padding:0},const:"fieldset",children:Object(u.jsx)(y.a,{"aria-label":l,name:l,value:r,onChange:function(e){o(e.target.value),f("answ_"+(1+d.indexOf(e.target.value)),b)},children:d.map((function(e,t){return Object(u.jsx)(z.a,{value:e,control:Object(u.jsx)(C.a,{}),label:Object(u.jsx)("p",{className:s.radio,children:e})},t)}))})})})]})},B=Object(l.a)((function(e){var t;return{formControl:{marginTop:"30px",margin:"0 auto",textAlign:"left"},typography:(t={fontWeight:300,fontFamily:"Roboto, sans-serif",padding:0,margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t),radio:{fontSize:"15px",color:"black"}}})),D=function(e){var t=i.a.useState(""),n=Object(c.a)(t,2),r=n[0],o=n[1],s=i.a.useState(null),l=Object(c.a)(s,2),d=l[0],j=l[1],f=B(),p=e.title,x=e.lang,m=(e.id,e.answers),O=e.ans,h=e.index,g=(e.values,e.returnAnswer);return Object(a.useEffect)((function(){if(O){var e=Object.values(O)[0].split("_")[1]-1;o(m[e])}}),[O]),Object(a.useEffect)((function(){g("answ_1"==r?r:void 0,h)}),[r]),Object(a.useEffect)((function(){g(r+"=="+d,h),r+"=="+d=="answ_2=="&&g(void 0,h)}),[d]),Object(u.jsxs)("div",{className:f.formControl,children:[Object(u.jsx)(I,{title:p,answers:m,returnAnswer:function(e){o(e)},id:h,index:h,values:m},h),"answ_2"===r&&Object(u.jsx)(b,{returnAnswer:function(e){j(e)},index:h,title:"ru"==x?"\u041f\u043e\u0434 \u043a\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0432\u044b \u0432\u044b\u0434\u0432\u0438\u0433\u0430\u0435\u0442\u0435\u0441\u044c":"\u0421\u0438\u0437 \u043a\u0430\u0439\u0441\u044b \u043d\u043e\u043c\u0435\u0440\u0433\u0435 \u043a\u04e9\u0440\u0441\u04e9\u0442\u04af\u043b\u0433\u04e9\u043d\u0441\u04af\u0437"})]})},q=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)([]),s=Object(c.a)(o,2),l=s[0],d=s[1],j=e.returnFields,p=e.type_people,x=e.lang;Object(a.useEffect)((function(){var e=S.firestore(),t="kg"==x?p+"_kg":p;e.collection("fields").doc(t).onSnapshot((function(e){r(e.data().questions)}))}),[]),Object(a.useEffect)((function(){console.log(l)}),[l]);var m=function(e,t){var n=Object(f.a)(l);n[t]=e,d(n),j(n)};return Object(u.jsx)("div",{children:i.map((function(e,t){return"text"==e.type?Object(u.jsx)("div",{style:{marginTop:30},children:Object(u.jsx)(b,{returnAnswer:m,index:t,title:e.title})}):"photo"==e.type?Object(u.jsx)("div",{style:{marginTop:30},children:Object(u.jsx)(W,{lang:x,returnAnswer:m,index:t,title:e.title})}):"select_with_future"==e.type?Object(u.jsx)("div",{style:{marginTop:30},children:Object(u.jsx)(_,{answers:e.answers,title:e.title,index:t,returnAnswer:m})}):"radio"==e.type?Object(u.jsx)(D,{title:e.title,answers:e.answers,returnAnswer:m,id:t,index:t,values:e.answers},t):"select"==e.type?Object(u.jsx)("div",{children:Object(u.jsx)(h,{index:t,title:e.title,answers:e.answers,returnAnswer:m})}):void 0}))})},U=Object(l.a)((function(e){var t;return{typography:(t={fontSize:14,marginTop:"10px",width:"70%",color:"#ff0000",fontWeight:300,padding:0},Object(s.a)(t,"@media (max-width:780px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:9}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:7}),t)}}));function L(e){var t=e.text,n=U();return Object(u.jsx)("div",{style:{padding:0,margin:0},className:n.typography,children:Object(u.jsx)("p",{style:{padding:0,margin:0},children:t})})}var P=n(326),H=Object(l.a)((function(e){var t;return{formControl:{marginTop:"30px",margin:"0 auto",width:"70%"},typography:{fontSize:"24px"},pagination:{padding:0,margin:"30px 0"},container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t)}})),G=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)({}),p=Object(c.a)(b,2),x=p[0],m=p[1],O=Object(a.useState)(),h=Object(c.a)(O,2),g=h[0],v=h[1],w=Object(a.useState)(null),y=Object(c.a)(w,2),z=y[0],C=y[1],k=Object(a.useState)(0),_=Object(c.a)(k,2),T=_[0],A=_[1],N=Object(a.useState)([]),E=Object(c.a)(N,2),R=E[0],W=E[1],F=Object(a.useState)(null),B=Object(c.a)(F,2),D=B[0],q=B[1],U=Object(a.useState)(null),G=Object(c.a)(U,2),V=(G[0],G[1],Object(a.useState)(0)),M=Object(c.a)(V,2),X=M[0],Y=M[1],J=Object(a.useState)(30),K=Object(c.a)(J,2),Z=K[0],Q=(K[1],Object(a.useState)([])),$=Object(c.a)(Q,2),ee=($[0],$[1],H()),te=(e.persons,e.sex),ne=(e.allAnswers,e.lang),ae=e.returnAxisesAverage,ie=e.returnAllAnswers;Object(a.useEffect)((function(){var e=S.firestore(),t="ru"==ne?"all_questions":"all_questions_kg";e.collection("questions").doc(t).onSnapshot((function(e){r(e.data().questions)}));var n="ru"==ne?"axises":"axises_kg";e.collection("questions").doc(n).onSnapshot((function(e){m(e.data().axises),v(Object.keys(e.data().axises).forEach((function(t){return e.data().axises[t]=0})))}))}),[]);var re=function(e){return e.map((function(e,t){return e&&Object.keys(e)[0]})).filter(Boolean).map((function(e){return parseInt(e)}))};Object(a.useEffect)((function(){var e=re(d);A(100*e.length/i.length);var t=i.map((function(e,t){return t}));if(t=(t=t.map((function(t){return e.includes(t)&&t}))).slice(X,X+Z),W(t),e.length==i.length&0!=i){var n=d.map((function(e,t){return i[t].values[e[t]]})),a=Object.keys(x),r={};a.forEach((function(e){return r[e]=0}));var o={};a.forEach((function(e){return o[e]=0})),n.map((function(e,t){Object.keys(e).forEach((function(t){r[t]+=e[t],o[t]+=1}))}));var c={};Object.keys(r).map((function(e,t){c[e]=r[e]?r[e]/o[e]:0})),v(c),C(!0)}}),[d]);var oe=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},ce=function(e,t){var n=Object(f.a)(d);n[t]=Object(s.a)({},t,e),j(n),ie(n)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(P.a,{style:{position:"sticky",top:0},variant:"determinate",value:T||0}),Object(u.jsx)("div",{style:{textAlign:"left"},children:i.slice(X,X+Z).map((function(e,t){return Object(u.jsxs)("div",{id:"question"+(t+X),children:[Object(u.jsx)(I,{title:e.title,answers:e.answers[te],returnAnswer:ce,id:t,ans:d[X+t],index:t+X,values:e.values},t+X),!R.includes(t+X)&&D&&Object(u.jsx)(L,{text:"\u0411\u0443\u043b \u0441\u0443\u0440\u043e\u043e\u0433\u043e \u0436\u043e\u043e\u043f \u0431\u0435\u0440\u0438\u04a3\u0438\u0437"})]})}))}),Object(u.jsxs)("div",{className:ee.pagination,children:[z&&Object(u.jsx)("button",{className:ee.button,onClick:function(){ae(g)},children:"\u0416\u044b\u0439\u044b\u043d\u0442\u044b\u043a\u0442\u0430\u0440\u044b"}),Object(u.jsx)("br",{}),X+Z>Z?Object(u.jsx)("button",{className:ee.button,onClick:function(){return Y(X-Z),void oe()},children:"\u0411\u0443\u0433\u0430 \u0447\u0435\u0439\u0438\u043d\u043a\u0438 \u0431\u0430\u0440\u0430\u043a"}):Object(u.jsx)("div",{}),X+Z<i.length?Object(u.jsx)("div",{style:{margin:1},children:Object(u.jsx)("button",{className:ee.button,onClick:function(){return function(){var e=re(d),t=i.map((function(e,t){return t}));if(t=(t=t.map((function(t){return e.includes(t)&&t}))).slice(X,X+Z),W(t),q(!0),-1!=t.indexOf(!1)){var n=document.getElementById("question".concat(t.indexOf(!1)+X));n&&n.scrollIntoView({behavior:"smooth",block:"start"})}else Y(X+Z),q(null),oe()}()},children:"\u041a\u0438\u0439\u0438\u043d\u043a\u0438 \u0431\u0430\u0440\u0430\u043a"})}):Object(u.jsx)("div",{})]})]})},V=Object(a.createContext)(),M=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(c.a)(n,2),r=i[0],o=i[1];return Object(a.useEffect)((function(){S.auth().onAuthStateChanged(o)}),[]),Object(u.jsx)(V.Provider,{value:{currentUser:r},children:t})},X=Object(a.createContext)(),Y=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(c.a)(n,2),r=i[0],o=i[1];return Object(a.useEffect)((function(){S.auth().onAuthStateChanged(o)}),[]),Object(u.jsx)(X.Provider,{value:{currentUser:r},children:t})},J=(n(219),n(234),Object(l.a)((function(e){return{formControl:{paddingBottom:0}}})),n(346)),K=Object(l.a)((function(e){var t;return{formControl:{minWidth:120},li:{fontSize:"15px"},title:(t={fontWeight:700,padding:0,fontSize:17},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:14}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:13}),t)}})),Z=function(e){var t=K(),n=i.a.useState(""),r=Object(c.a)(n,2),o=r[0],s=r[1],l=i.a.useState(!1),d=Object(c.a)(l,2),j=d[0],b=d[1],f=e.index,O=e.response,h=e.returnAnswer,g=e.exist,v=e.answers;Object(a.useEffect)((function(){O&&s(O)}),[O]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:t.title,children:e.title}),Object(u.jsxs)(x.a,{className:t.formControl,disabled:!!e.locked,children:[Object(u.jsx)(J.a,{id:"controlled-open-select-label",children:"\u0422\u0430\u043d\u0434\u043e\u043e"}),Object(u.jsx)(m.a,{labelId:"controlled-open-select-label",id:"select"+f,open:j,onClose:function(e){b(!1)},onOpen:function(e){b(!0)},value:o,onChange:function(e){s(e.target.value),h(e.target.value)},children:v.map((function(e,n){if(e!=g)return Object(u.jsx)(p.a,{className:t.li,value:e,children:e},n)}))})]})]})},Q=n(327),$=n(203),ee=Object(l.a)((function(e){var t,n,a;return{plus:{textAlign:"right",justifySelf:"end"},container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:10,alignItems:"center",justifyItems:"start"},"@media (max-width:450px)",{gridTemplateColumns:"1fr 1fr",gridGap:5}),subContainer:{display:"grid",alignItems:"center",justifyItems:"start"},coordinates:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gridTemplateRows:"1fr",justifyContent:"space-evenly",fontFamily:"Roboto, sans-serif",fontWeight:300,color:"#474747",fontSize:"16px",alignItems:"start",justifyItems:"center"},header:(t={textAlign:"center",padding:0,fontSize:25,fontFamily:"Roboto, sans-serif",margin:"0 0 15px 0"},Object(s.a)(t,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:17}),t),paragraph:(n={fontWeight:400,padding:0,fontFamily:"Roboto, sans-serif",margin:0},Object(s.a)(n,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:11}),n),label:(a={fontWeight:200,padding:0,fontFamily:"Roboto, sans-serif",margin:0,fontSize:10},Object(s.a)(a,"@media (max-width:780px)",{fontSize:8}),Object(s.a)(a,"@media (max-width:500px)",{fontSize:7}),Object(s.a)(a,"@media (max-width:350px)",{fontSize:6}),a),minus:{justifySelf:"start"}}}));function te(e){var t=ee(),a=n(273),i=e.parties,r=e.axisName,o=e.plus,c=e.minus,s=e.distance,l=[["ID",r,"","\u041f\u0430\u0440\u0442\u0438\u044f"],["\u041c\u0435\u043d",s,0,"\u041c\u0435\u043d"]],d=(i.map((function(e,t){e.name.slice(0,3).toLocaleUpperCase();var n=e.data[0];l.push(["",n,0,e.name])})),{});i.map((function(e){return d[e.name]={color:e.color}}));var j={title:"",height:150,legend:{position:"top",maxLines:2,alignment:"start"},hAxis:{title:r,viewWindow:{min:-2.5,max:2.5}},vAxis:{title:"",viewWindow:{min:.1,max:.1}},series:d,sizeAxis:{minValue:0,maxSize:7},bubble:{textStyle:{auraColor:"none"}}},b=s&&0!=s?s.toFixed(2):0;return Object(u.jsxs)("div",{style:{marginBottom:100},children:[Object(u.jsx)("h2",{className:t.header,children:r+": "+b}),Object(u.jsx)("div",{className:"nameAxis"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"arrows",children:[Object(u.jsxs)("div",{className:t.coordinates,children:[Object(u.jsx)("p",{className:t.paragraph+" "+t.minus,children:c}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{style:{width:2,height:50,background:"#2b2b2b"}})}),Object(u.jsx)("p",{className:t.paragraph+" "+t.plus,children:o})]}),Object(u.jsxs)(Q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(u.jsx)("p",{style:{fontSize:21},children:a[3051]}),Object(u.jsx)("p",{style:{transform:"scaleX(-1)",fontSize:21},children:a[3051]})]})]}),Object(u.jsx)($.a,{width:"100%",height:"50px",chartType:"BubbleChart",loader:Object(u.jsx)("div",{children:"Loading Chart"}),data:l,colors:i.map((function(e){return e.color})),options:j,rootProps:{"data-testid":"3"}})]})]})}var ne=n(328),ae=n(330),ie=n(332),re=n(329),oe=n(331),ce=n(333),se=(Object(l.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"auto"}}})),function(e){Object(l.a)();var t=e.nearest,n=e.texts,a=e.url,i="\u041c\u0430\u0433\u0430 \u0436\u0430\u043a\u044b\u043d \u043f\u0430\u0440\u0442\u0438\u044f \u2014 "+t+".\n\n"+n.join(". ")+"\n\n\u041a\u0430\u0439\u0441\u044b \u043f\u0430\u0440\u0442\u0438\u044f\u043b\u0430\u0440\u0434\u044b\u043d \u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0441\u044b \u043c\u0430\u0433\u0430 \u0436\u0430\u043d\u0430 \u0441\u0430\u0433\u0430 \u0436\u0430\u043a\u044b\u043d \u044d\u043a\u0435\u043d\u0438\u043d \u0431\u0438\u043b\u0438\u043f \u0430\u043b:";return Object(u.jsxs)(Q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(u.jsx)(Q.a,{item:!0,children:Object(u.jsx)(ne.a,{url:a,quote:i,children:Object(u.jsx)("div",{children:Object(u.jsx)(re.a,{style:{borderRadius:"50%"},size:"2.1rem"})})})}),Object(u.jsx)(Q.a,{item:!0,children:Object(u.jsx)(ae.a,{url:a,title:i,children:Object(u.jsx)("div",{children:Object(u.jsx)(oe.a,{style:{borderRadius:"50%"},size:"2.1rem"})})})}),Object(u.jsx)(Q.a,{item:!0,children:Object(u.jsx)(ie.a,{url:a,title:i,children:Object(u.jsx)("div",{children:Object(u.jsx)(ce.a,{style:{borderRadius:"50%"},size:"2.1rem"})})})})]})}),le=Object(l.a)((function(e){var t,n,a;return{avtoportretContainer:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:30},"@media (max-width:300px)",{gridTemplateColumns:"1fr"}),header:(t={fontWeight:700,fontFamily:"Roboto, sans-serif",padding:0,margin:"25px 0 10px 0",fontSize:23},Object(s.a)(t,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:14}),t),paragraph:(n={fontWeight:300,fontFamily:"Roboto, sans-serif",padding:0,margin:0,fontSize:20},Object(s.a)(n,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:11}),n),shareText:(a={marginTop:70,marginBottom:70,fontSize:22,fontFamily:"Roboto, sans-serif",textAlign:"center"},Object(s.a)(a,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(a,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(a,"@media (max-width:350px)",{fontSize:13}),a)}})),de=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)([]),s=Object(c.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)([]),b=Object(c.a)(j,2),f=b[0],p=b[1],x=Object(a.useState)({}),m=Object(c.a)(x,2),O=m[0],h=m[1],g=Object(a.useState)([]),v=Object(c.a)(g,2),w=v[0],y=v[1],z=e.nearestParty,C=e.currentAxises,k=le();function _(e,t){return Object.keys(e).find((function(n){return e[n]===t}))}return Object(a.useEffect)((function(){var e=S.firestore();e.collection("texts").doc("matrix_kg").onSnapshot((function(e){r(e.data().matrix_answers)})),e.collection("questions").doc("axises_kg").onSnapshot((function(e){y(e.data().axises)})),e.collection("meta").doc("url_kg").onSnapshot((function(e){p(e.data().url)}));d(["\u0416\u0430\u0440\u0430\u043d\u0434\u044b\u043a \u0443\u043a\u0443\u043a\u0442\u0430\u0440","\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430","\u0421\u04e9\u0437 \u044d\u0440\u043a\u0438\u043d\u0434\u0438\u0433\u0438","\u0410\u044f\u043b\u0434\u0430\u0440\u0434\u044b\u043d \u0443\u043a\u0443\u0433\u0443","\u041a\u043e\u0440\u0440\u0443\u043f\u0446\u0438\u044f","\u041a\u0440\u0438\u043c\u0438\u043d\u0430\u043b","\u0411\u0430\u0442\u044b\u0448 \u043c\u0435\u043d\u0435\u043d \u043a\u0430\u0440\u044b\u043c-\u043a\u0430\u0442\u043d\u0430\u0448","\u041e\u0440\u0443\u0441\u0438\u044f \u043c\u0435\u043d\u0435\u043d \u043a\u0430\u0440\u044b\u043c-\u043a\u0430\u0442\u043d\u0430\u0448","\u041a\u044b\u0442\u0430\u0439 \u043c\u0435\u043d\u0435\u043d \u043a\u0430\u0440\u044b\u043c-\u043a\u0430\u0442\u043d\u0430\u0448","\u0410\u0442\u0430\u043c\u0431\u0430\u0435\u0432","\u0416\u044d\u044d\u043d\u0431\u0435\u043a\u043e\u0432","\u0416\u0430\u043f\u0430\u0440\u043e\u0432","\u041c\u0430\u0442\u0440\u0430\u0438\u043c\u043e\u0432\u0434\u043e\u0440"])}),[]),Object(a.useEffect)((function(){var e={};w&&i&&(l.map((function(t,n){var a,r=_(w,t),o=C[r];o>=-2&&o<=-1.11?a=i[r].m_2_m_1:o>=-1.1&&o<=-.61?a=i[r].m_1_m_06:o>=-.6&&o<=-.21?a=i[r].m_06_m02:o>=-.2&&o<=.21?a=i[r].m_02_p_02:o>=.21&&o<=.6?a=i[r].p_02_p_06:o>=.61&&o<=1.1?a=i[r].p_06_p_1:o>=1.11&&o<=2&&(a=i[r].p_1_p_2),e[r]=a})),h(e))}),[i,w]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:k.avtoportretContainer,children:i&&l.map((function(e,t){var n=_(w,e);return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h4",{className:k.header,children:[e,":"]}),Object(u.jsx)("p",{className:k.paragraph,children:O[n]})]})}))}),Object(u.jsxs)("div",{className:k.shareText,children:[Object(u.jsx)("h5",{children:"\u0416\u044b\u0439\u044b\u043d\u0442\u044b\u043a\u0442\u044b \u0441\u043e\u0446\u0438\u0430\u043b\u0434\u044b\u043a \u0442\u0430\u0440\u043c\u0430\u043a\u0442\u0430\u0440\u0434\u0430 \u0431\u04e9\u043b\u04af\u0448\u04af\u04a3\u04af\u0437:"}),Object(u.jsx)(se,{nearest:z,url:f,texts:[O.japarov,O.matraimov]})]})]})},ue=function(e){var t=e.axisX,n=e.myAxisX,a=e.myAxisY,i=e.axisY,r=e.parties;console.log("parties => ",r);var o=[["ID",t,i,"\u041f\u0430\u0440\u0442\u0438\u044f"],["\u041c\u0435\u043d",n,a,"\u041c\u0435\u043d"]];r.map((function(e,t){e.name.slice(0,3).toLocaleUpperCase();var n=e.data[0][0],a=e.data[0][1];o.push(["",n,a,e.name])}));console.log("data =>",o);var c={};r.map((function(e){return c[e.name]={color:e.color}}));var s={title:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u043f\u0430\u0440\u0442\u0438\u044f \u043f\u043e 2\u0443\u043c \u043e\u0441\u044f\u043c",legend:{position:"top",maxLines:1e3,alignment:"start"},hAxis:{title:t,viewWindow:{min:-3,max:3}},vAxis:{title:i,viewWindow:{min:-3,max:3}},series:c,sizeAxis:{minValue:0,maxSize:7},bubble:{textStyle:{auraColor:"none"}}};return Object(u.jsx)($.a,{width:"100%",height:"400px",chartType:"BubbleChart",loader:Object(u.jsx)("div",{children:"Loading Chart"}),data:o,colors:r.map((function(e){return e.color})),options:s,rootProps:{"data-testid":"3"}})},je=Object(l.a)((function(e){var t,n,a,i,r,o;return{mainHeader:(t={textAlign:"center",padding:0,fontSize:28,margin:"0 0 15px 0"},Object(s.a)(t,"@media (max-width:780px)",{fontSize:25}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:23}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:20}),t),subHeader:(n={textAlign:"center",padding:0,paddingBottom:15,fontSize:22,margin:"0 0 15px 0"},Object(s.a)(n,"@media (max-width:780px)",{fontSize:19}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:15}),n),paragraph:(a={fontSize:25,fontWeight:400,padding:0,margin:"10px 0"},Object(s.a)(a,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(a,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(a,"@media (max-width:350px)",{fontSize:13}),a),description:(i={fontSize:20,fontWeight:400,padding:"10px 0 0 0 ",margin:"10px 0"},Object(s.a)(i,"@media (max-width:780px)",{fontSize:17}),Object(s.a)(i,"@media (max-width:500px)",{fontSize:15}),Object(s.a)(i,"@media (max-width:350px)",{fontSize:13}),i),shareText:(r={marginTop:70,marginBottom:70,fontSize:22,textAlign:"center"},Object(s.a)(r,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(r,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(r,"@media (max-width:350px)",{fontSize:13}),r),scatterLineHeader:(o={padding:0,margin:0,marginTop:50,marginBottom:30,fontSize:25,textAlign:"center"},Object(s.a)(o,"@media (max-width:780px)",{fontSize:22}),Object(s.a)(o,"@media (max-width:500px)",{fontSize:19}),Object(s.a)(o,"@media (max-width:350px)",{fontSize:15}),o)}})),be=function(e){var t=Object(a.useState)(null),i=Object(c.a)(t,2),r=i[0],o=i[1],s=Object(a.useState)([]),l=Object(c.a)(s,2),d=l[0],j=l[1],b=Object(a.useState)(null),p=Object(c.a)(b,2),x=p[0],m=p[1],O=Object(a.useState)([]),h=Object(c.a)(O,2),g=h[0],v=h[1],w=Object(a.useState)([]),y=Object(c.a)(w,2),z=y[0],C=y[1],k=Object(a.useState)({}),_=Object(c.a)(k,2),T=_[0],A=_[1],N=Object(a.useState)([]),E=Object(c.a)(N,2),R=E[0],W=E[1],F=Object(a.useState)({}),I=Object(c.a)(F,2),B=I[0],D=I[1],q=Object(a.useState)(null),U=Object(c.a)(q,2),L=U[0],P=U[1],H=Object(a.useState)(null),G=Object(c.a)(H,2),V=G[0],M=G[1],X=Object(a.useState)(null),Y=Object(c.a)(X,2),J=Y[0],K=Y[1],$=Object(a.useState)(null),ee=Object(c.a)($,2),ne=ee[0],ae=ee[1],ie=Object(a.useState)({}),re=Object(c.a)(ie,2),oe=re[0],ce=re[1],se=Object(a.useState)(null),le=Object(c.a)(se,2),be=(le[0],le[1]),fe=Object(a.useState)(null),pe=Object(c.a)(fe,2),xe=pe[0],me=pe[1],Oe=Object(a.useState)({parties:{},parties_meta:{}}),he=Object(c.a)(Oe,2),ge=he[0],ve=he[1],Se=je(),we=e.currentAxises,ye=e.region,ze=n(274);function Ce(e,t){return Object.keys(e).find((function(n){return e[n]===t}))}Object(a.useEffect)((function(){W(["\u0416\u0430\u0440\u0430\u043d\u0434\u044b\u043a \u0443\u043a\u0443\u043a\u0442\u0430\u0440","\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430","\u0421\u04e9\u0437 \u044d\u0440\u043a\u0438\u043d\u0434\u0438\u0433\u0438","\u0410\u044f\u043b\u0434\u0430\u0440\u0434\u044b\u043d \u0443\u043a\u0443\u0433\u0443","\u041a\u043e\u0440\u0440\u0443\u043f\u0446\u0438\u044f","\u041a\u0440\u0438\u043c\u0438\u043d\u0430\u043b","\u0411\u0430\u0442\u044b\u0448 \u043c\u0435\u043d\u0435\u043d \u043a\u0430\u0440\u044b\u043c-\u043a\u0430\u0442\u043d\u0430\u0448","\u041e\u0440\u0443\u0441\u0438\u044f \u043c\u0435\u043d\u0435\u043d \u043a\u0430\u0440\u044b\u043c-\u043a\u0430\u0442\u043d\u0430\u0448","\u041a\u044b\u0442\u0430\u0439 \u043c\u0435\u043d\u0435\u043d \u043a\u0430\u0440\u044b\u043c-\u043a\u0430\u0442\u043d\u0430\u0448","\u0410\u0442\u0430\u043c\u0431\u0430\u0435\u0432","\u0416\u044d\u044d\u043d\u0431\u0435\u043a\u043e\u0432","\u0416\u0430\u043f\u0430\u0440\u043e\u0432","\u041c\u0430\u0442\u0440\u0430\u0438\u043c\u043e\u0432\u0434\u043e\u0440"]);var e=S.firestore();e.collection("meta").doc("meta_parties").onSnapshot((function(e){ve({parties:e.data().parties,parties_meta:e.data().parties_meta})})),e.collection("fields").doc("regions_parties").onSnapshot((function(e){var t=e.data().regions_parities.map((function(e){if(e.region==ye)return e.parties})).filter(Boolean)[0];o(t)})),e.collection("questions").doc("axises_kg").onSnapshot((function(e){A(e.data().axises)})),e.collection("texts").doc("scatter_kg").onSnapshot((function(e){m(e.data().line_scatter)})),e.collection("applicants").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),j(t)})),D(we)}),[]),Object(a.useEffect)((function(){var e=Object(f.a)(new Set(d.map((function(e){return e.party})))),t={},n={},a={};e.map((function(e,i){t[i]=e,n[i]=0,a[i]=[]})),be(t),d.map((function(e,i){var r=Ce(t,e.party);n[r]+=1,a[r].push(e)}));var i=e.map((function(e,i){var r={},o=Ce(t,e);Object.keys(T).map((function(e,t){return r[e]=0}));return a[o].map((function(e,t){Object.keys(r).map((function(t){r[t]+=e.axises[t]}))})),Object.keys(T).map((function(e){r[e]=r[e]/n[o]})),{party:e,axises:r}})),o=r,c=i.map((function(e,t){if(-1!=o.indexOf(e.party))return e})).filter(Boolean);me(c)}),[d]),Object(a.useEffect)((function(){if(L&&V&&xe){var e=xe.map((function(e,t){var n=Ce(ge.parties,e.party),a=ge.parties_meta[n].color;return{name:e.party,symbolSize:12,data:[[e.axises[L.axis],e.axises[V.axis]]],type:"scatter",symbol:"circle",color:"#".concat(a),emphasis:{label:{show:!0,formatter:e.party,position:"top"}}}}));e.push({name:"\u041c\u0435\u043d",symbolSize:12,data:[[B[L.axis],B[V.axis]]],type:"scatter",symbol:"emptyCircle",color:"#d902ff",emphasis:{label:{show:!0,formatter:"\u041c\u0435\u043d",position:"top"}}}),v(e)}if(L&&V){var t=1/0;xe.map((function(e,n){var a=ze([B[L.axis],B[V.axis]],[e.axises[L.axis],e.axises[V.axis]]);a<t&&(t=a,ae({distance:a,party:e}))}))}var n=R.map((function(e){e=Ce(T,e);var t=xe.map((function(t,n){var a=Ce(ge.parties,t.party),i=ge.parties_meta[a].color;return{name:t.party,symbolSize:12,data:[t.axises[e]],type:"scatter",symbol:"circle",color:"#".concat(i),emphasis:{label:{show:!0,formatter:t.party,position:"top"}}}}));return t.push({name:"\u041c\u0435\u043d",symbolSize:12,data:[B[e]],type:"scatter",symbol:"emptyCircle",color:"#d902ff",emphasis:{label:{show:!0,formatter:"\u041c\u0435\u043d",position:"top"}}}),{axisName:T[e],data:t}}));C(n);var a=Object.keys(T).sort(),i=a.map((function(e){return B[e]}));if(xe){var r=1/0;xe.map((function(e,t){var n=[];a.map((function(t,a){n.push(e.axises[t])}));var o=ze(n,i);if(o<r){r=o;var c=Ce(ge.parties,e.party),s=ge.parties_meta[c].url;K({distance:o,party:e,url:s})}}))}var o={};Object.keys(T).map((function(e){var t=1/0;xe.forEach((function(n,a){var i=ze([n.axises[e]],[B[e]]);if(i<t){t=i;var r={distance:i,party:n};o[e]=r}}))}));ce(o)}),[xe,L,V,T]);return Object(u.jsxs)("div",{children:[Object(u.jsxs)(Q.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",children:[Object(u.jsxs)("h2",{className:Se.mainHeader,children:["\u0421\u0438\u0437\u0433\u0435 \u0436\u0430\u043a\u044b\u043d \u043f\u0430\u0440\u0442\u0438\u044f:",Object(u.jsx)("br",{}),J?J.party.party:""]}),Object(u.jsx)("br",{}),Object(u.jsx)("img",{style:{width:"60%"},src:J?J.url:"",alt:""})]}),Object(u.jsx)("h2",{style:{marginTop:50},className:Se.mainHeader,children:"\u0416\u043e\u043e\u043f\u0442\u043e\u0440\u0443\u04a3\u0443\u0437\u0433\u0430 \u0436\u0430\u0440\u0430\u0448\u0430 \u0430\u043d\u044b\u043a\u0442\u0430\u043b\u0433\u0430\u043d \u0441\u0430\u044f\u0441\u0438\u0439 \u0430\u0432\u0442\u043e\u043f\u043e\u0440\u0442\u0440\u0435\u0442\u0438\u04a3\u0438\u0437:"}),Object(u.jsx)(de,{nearestParty:J&&J.party.party,axises:T,currentAxises:B}),Object(u.jsx)("h5",{className:Se.scatterLineHeader,children:"\u041a\u0435\u04a3\u0438\u0440\u0438 \u0436\u044b\u0439\u044b\u043d\u0442\u044b\u043a:"}),z.map((function(e,t){var n=Ce(T,e.axisName),a=oe[n];if("domestic_policy"!=n)return Object(u.jsxs)("div",{style:{marginBottom:80},children:[Object(u.jsx)(te,{plus:x&&x[n].plus,minus:x&&x[n].minus,parties:e.data,distance:B[n],axisName:e.axisName}),Object(u.jsxs)("p",{className:Se.description,children:[x&&x[n].description," \u2014 ",a?a.party.party:""]})]})})),Object(u.jsx)("h2",{className:Se.mainHeader,children:"\u041f\u043e\u0438\u0433\u0440\u0430\u0439\u0442\u0435\u0441\u044c \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438! \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0445 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a!"}),Object(u.jsx)("h3",{className:Se.subHeader,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0432\u0430 \u044f\u0432\u043b\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c:"}),Object(u.jsxs)(Q.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",spacing:2,children:[Object(u.jsx)(Q.a,{item:!0,children:Object(u.jsx)(Z,{title:"\u0422\u0430\u043d\u0434\u0430\u04a3\u044b\u0437 \u0436\u0435\u0431\u0435 \u0425",exist:V?V.title:"",answers:Object.values(T).sort(),returnAnswer:function(e){var t=Ce(T,e);P({title:e,axis:t})}})}),Object(u.jsx)(Q.a,{item:!0,children:Object(u.jsx)(Z,{title:"\u0422\u0430\u043d\u0434\u0430\u04a3\u044b\u0437 \u0436\u0435\u0431\u0435 Y",exist:L?L.title:"",answers:Object.values(T).sort(),returnAnswer:function(e){var t=Ce(T,e);M({title:e,axis:t})}})})]}),Object(u.jsx)("div",{style:{marginTop:50},children:ne?Object(u.jsx)(ue,{myAxisX:B[L.axis],myAxisY:B[V.axis],parties:g,axisX:T[L.axis],axisY:T[V.axis]}):Object(u.jsx)("div",{})}),Object(u.jsx)("div",{style:{marginBottom:50},children:ne?Object(u.jsxs)("h2",{style:{textAlign:"left"},className:Se.mainHeader,children:["\u042d\u043a\u0438 \u0436\u0435\u0431\u0435\u043d\u0438\u043d \u043d\u0435\u0433\u0438\u0437\u0438\u043d\u0434\u0435\u0433\u0438 \u0441\u0438\u0437\u0433\u0435 \u0436\u0430\u043a\u044b\u043d \u043f\u0430\u0440\u0442\u0438\u044f: ",ne?ne.party.party:""]}):""})]})},fe=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonExit:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),pe=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(null),s=Object(c.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)(null),b=Object(c.a)(j,2),f=b[0],p=b[1],x=Object(a.useState)([]),m=Object(c.a)(x,2),O=m[0],h=m[1],g=Object(a.useState)(null),v=Object(c.a)(g,2),w=v[0],y=v[1],z=Object(a.useState)("kg"),C=Object(c.a)(z,2),k=C[0],_=C[1],T=Object(a.useState)(null),A=Object(c.a)(T,2),N=(A[0],A[1],Object(a.useState)(null)),E=Object(c.a)(N,2),R=E[0],W=E[1],F=Object(a.useState)("start"),B=Object(c.a)(F,2),D=B[0],U=B[1],P=fe(),H=e.page_for,M=Object(a.useContext)(X).currentUser,Y=Object(a.useContext)(V).currentUser_applicant;Object(a.useEffect)((function(){S.firestore().collection("fields").doc(H+"_kg").onSnapshot((function(e){h(e.data().questions)}))}),[]),Object(a.useEffect)((function(){if(l){var e;if("applicant"==H){var t=i[0],n=i[1],a=Y.phoneNumber,r=i[2].split("=>")[0],o=i[2].split("=>")[1],c=i[3],s="answ_1"==i[4],d=!!i[4].split("==")[1]&&i[4].split("==")[1];e={name:t,lastName:n,number:a,region:r,party:o,photoUrl:c,axises:l,centralized:s,applicants_num:d}}else if("user"==H){e={sex:i[0],age:i[1],mail:M.email,region:i[2],axises:l,allAnswers:f}}var u=S.firestore(),j="applicant"==H?Y.uid:M.uid;u.collection(H+"s").doc(j).set(e),W(e),U("final")}}),[l]);return Object(u.jsx)("div",{className:"App",children:k?Object(u.jsx)("div",{children:"start"==D?Object(u.jsxs)("div",{children:[w&&Object(u.jsx)(L,{text:"\u04e8\u0442\u0443\u043d\u04af\u0447, \u0431\u0430\u0440\u0434\u044b\u043a \u0431\u04e9\u043b\u04af\u043a\u0442\u04e9\u0440\u0434\u04af \u0442\u043e\u043b\u0442\u0443\u0440\u0443\u043f \u0447\u044b\u0433\u044b\u04a3\u044b\u0437"}),Object(u.jsx)(q,{type_people:"user",returnFields:function(e){r(e)},lang:k}),Object(u.jsx)("button",{className:P.button,onClick:function(){return function(){var e=i.filter(Boolean);-1===(e=e.map((function(e){return e.length>=2}))).indexOf(!1)&&e.length==O.length&&e.length>0?U("questions"):y(!0)}()},children:"ru"==k?"\u0421\u0443\u0440\u043e\u043e\u043b\u043e\u0440\u0433\u043e \u04e9\u0442\u04af\u04af":"\u0421\u0443\u0440\u043e\u043e\u043b\u043e\u0440"}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:P.buttonExit,onClick:function(){return S.auth().signOut()},children:"\u0427\u044b\u0433\u0443\u0443"})]}):"questions"==D?Object(u.jsx)(G,{sex:"male"==i[0]?"he":"female"==i[0]?"she":"other",lang:k,allAnswers:f,returnAxisesAverage:function(e){d(e)},returnAllAnswers:function(e){p(e),console.log(e)},persons:"applicants"}):"applicant"==H?Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{children:["  ","ru"==k?"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u0412\u0430\u0448\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b.":"\u0420\u0430\u0445\u043c\u0430\u0442"]}),Object(u.jsx)("img",{src:"https://st.depositphotos.com/1724162/4091/i/600/depositphotos_40912841-stock-photo-cats-eyes.jpg",alt:"kitty"})]}):Object(u.jsx)("div",{children:Object(u.jsx)(be,{region:R.region,currentAxises:l})})}):Object(u.jsx)(I,{title:"\u041a\u0430\u043a\u043e\u0439 \u044f\u0437\u044b\u043a?",answers:["ru","kg"],values:["ru","kg"],returnAnswer:function(e){_(["ru","kg"][e.split("_")[1]-1])}})})},xe=n(44),me=Object(l.a)((function(e){return{container:{paddingTop:20,paddingBottom:15},typography:{fontSize:"18px"}}})),Oe=function(e){var t=e.text,n=me();return Object(u.jsx)("div",{className:n.container,children:Object(u.jsx)("p",{className:n.typography,variant:"h6",component:"p",children:t})})};Object(xe.f)((function(e){e.history;var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(null),s=Object(c.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)(null),f=Object(c.a)(j,2),p=f[0],x=f[1],m=Object(a.useState)([]),O=Object(c.a)(m,2),h=O[0],g=O[1],v=Object(a.useState)(null),w=Object(c.a)(v,2),y=w[0],z=w[1],C=Object(a.useContext)(V).currentUser;if(Object(a.useEffect)((function(){var e=S.firestore(),t="ru"==y?"login":"login_kg";e.collection("texts").doc(t).onSnapshot((function(e){g(e.data().texts)}))}),[y]),C)return Object(u.jsx)(xe.a,{to:"/applicants"});var k=function(){window.recaptchaVerifier=new S.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){_()}})},_=function(){k();var e=i,t=window.recaptchaVerifier;S.auth().signInWithPhoneNumber(e,t).then((function(e){window.confirmationResult=e,x(!0)})).catch((function(e){console.log(e)}))};return Object(u.jsx)("div",{style:{marginTop:50},children:y?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{id:"recaptcha-container"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://kloop.kg/wp-content/uploads/2020/10/rZkloop-political-compass.jpg",style:{width:"30%"},alt:""}),h.map((function(e,t){return Object(u.jsx)(Oe,{text:e})})),Object(u.jsx)(b,{index:0,disabled:p,response:i,returnAnswer:function(e){r(e)},label:"+996555333222",title:"ru"==y?"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440":"\u0421\u0438\u0437\u0434\u0438\u043d \u0431\u04e9\u043b\u043c\u04e9\u043d\u04af\u043d \u043d\u043e\u043c\u0435\u0440\u0438"}),!p&&Object(u.jsx)(N.a,{style:{marginTop:15},variant:"contained",color:"primary",onClick:function(){return _()},children:"ru"==y?"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434":"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u041a\u0420"})]}),p&&Object(u.jsxs)("div",{style:{marginTop:20},children:[Object(u.jsx)(b,{index:1,response:0,label:"ru"==y?"\u041a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441":"\u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441 \u041a\u0420",returnAnswer:function(e){d(e)},title:"ru"==y?"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441":"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441 \u041a\u0420"}),Object(u.jsx)(N.a,{style:{marginTop:15},variant:"contained",color:"secondary",onClick:function(){return function(e){var t=l;window.confirmationResult.confirm(t).then((function(e){e.user})).catch((function(e){console.log(e),alert("Incorrect OTP")}))}()},children:"ru"==y?"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c":"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u041a\u0420"})]})]}):Object(u.jsx)(I,{title:"\u041a\u0430\u043a\u043e\u0439 \u044f\u0437\u044b\u043a?",answers:["ru","kg"],values:["ru","kg"],returnAnswer:function(e){z(["ru","kg"][e.split("_")[1]-1])}})})})),n(335),n(339),n(338),n(334),n(336),n(337),n(322),Object(l.a)({table:{minWidth:650}});function he(e,t,n,a,i){return{name:e,calories:t,fat:n,carbs:a,protein:i}}he("Frozen yoghurt",159,6,24,4),he("Ice cream sandwich",237,9,37,4.3),he("Eclair",262,16,24,6),he("Cupcake",305,3.7,67,4.3),he("Gingerbread",356,16,49,3.9);var ge=n(205),ve=n(113),Se=n(207),we=function(e){var t=e.component,n=e.data,i=Object(Se.a)(e,["component","data"]),r=Object(a.useContext)(X).currentUser;return Object(u.jsx)(xe.b,Object(ve.a)(Object(ve.a)({},i),{},{render:function(e){return r?Object(u.jsx)(t,Object(ve.a)(Object(ve.a)({},n),e)):Object(u.jsx)(xe.a,{data:n,to:"/login_users"})}}))},ye=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonMail:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),ze=Object(xe.f)((function(e){e.history;var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=(n[0],n[1],Object(a.useState)(null)),r=Object(c.a)(i,2),o=(r[0],r[1],Object(a.useState)(null)),s=Object(c.a)(o,2),l=(s[0],s[1],Object(a.useState)([])),d=Object(c.a)(l,2),j=(d[0],d[1],Object(a.useState)(null)),b=Object(c.a)(j,2),f=(b[0],b[1],ye());if(Object(a.useContext)(X).currentUser)return Object(u.jsx)(xe.a,{to:"/choose_option"});return Object(u.jsxs)("div",{className:f.container,children:[Object(u.jsx)("button",{className:f.buttonMail,onClick:function(){g.a.auth().signInWithPopup(v)},children:"\u041f\u043e\u0447\u0442\u0430 \u0430\u0440\u043a\u044b\u043b\u0443\u0443 \u043a\u0438\u0440\u04af\u04af"}),Object(u.jsx)("button",{className:f.button,onClick:function(){g.a.auth().signInAnonymously()},children:"\u0416\u0430\u0448\u044b\u0440\u0443\u0443\u043d \u043a\u0438\u0440\u04af\u04af"})]})})),Ce=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonExit:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),ke=Object(xe.f)((function(e){e.history;var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(!1),s=Object(c.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)(null),b=Object(c.a)(j,2),f=(b[0],b[1],Ce()),p=Object(a.useContext)(X).currentUser;Object(a.useEffect)((function(){S.firestore().collection("users").doc(p.uid).onSnapshot((function(e){d(e.data())}))}),[]);return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:f.container,children:[Object(u.jsx)("button",{className:f.button,onClick:function(){return r("passTest")},children:"\u0422\u0435\u0441\u0442\u0442\u0435\u043d \u04e9\u0442\u04af\u04af"}),l&&Object(u.jsx)("button",{className:f.button,onClick:function(){return r("whatchResults")},children:"\u0416\u044b\u0439\u044b\u043d\u0442\u044b\u043a\u0442\u0430\u0440\u044b"}),"passTest"==i?Object(u.jsx)(xe.a,{to:"/users"}):"whatchResults"==i?Object(u.jsx)(xe.a,{to:"/find"}):Object(u.jsx)("div",{})]}),Object(u.jsxs)("div",{className:f.container,children:[Object(u.jsx)("button",{className:f.buttonExit,onClick:function(){return S.auth().signOut()},children:"\u0427\u044b\u0433\u0443\u0443"}),Object(u.jsx)("div",{})]})]})})),_e=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonExit:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),Te=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(null),s=Object(c.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)(null),b=Object(c.a)(j,2),f=b[0],p=b[1],x=Object(a.useContext)(X).currentUser,m=(Object(a.useContext)(V).currentUser_applicant,_e());return Object(a.useEffect)((function(){S.firestore().collection("users").doc(x.uid).onSnapshot((function(e){void 0==e.data()?d(!0):r(e.data())}))}),[]),Object(u.jsxs)("div",{children:[l?Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u0438 \u0442\u0435\u0441\u0442"}),Object(u.jsx)("button",{className:m.button,onClick:function(){return p("passTest")},children:"\u043f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442"})]}):Object(u.jsx)("div",{}),i&&Object(u.jsx)(be,{region:i.region,currentAxises:i.axises}),"passTest"==f?Object(u.jsx)(xe.a,{to:"/users"}):Object(u.jsx)("div",{})]})},Ae=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(ge.a,{children:Object(u.jsx)(M,{children:Object(u.jsx)(Y,{children:Object(u.jsxs)(ge.a,{children:[Object(u.jsx)(we,{data:{page_for:"user"},exact:!0,path:"/users",component:pe}),Object(u.jsx)(we,{exact:!0,path:"/find",component:Te}),Object(u.jsx)(we,{exact:!0,path:"/choose_option",component:ke}),Object(u.jsx)(xe.b,{exact:!0,path:"/login_users",component:ze})]})})})})})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,350)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(Ae,{})}),document.getElementById("root")),Ne()}},[[277,1,2]]]);
//# sourceMappingURL=main.9f632203.chunk.js.map